(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{1056:(e,r,t)=>{"use strict";t.d(r,{N:()=>o});let o={callbacks:{async jwt(e){let{token:r,user:t}=e;try{return t&&(r.id=t.id,r.role=t.role),r}catch(e){return console.error("JWT callback error:",e),{...r,error:"Token processing error"}}},async session(e){let{session:r,token:t}=e;try{return t&&(r.user.id=t.id,r.user.role=t.role),r}catch(e){return console.error("Session callback error:",e),r}}},pages:{signIn:"/auth/signin",error:"/auth/error"}}},5474:(e,r,t)=>{Promise.resolve().then(t.bind(t,8793))},8793:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var o=t(5155);t(2115);let s=e=>{let{exportType:r,lastGenerated:t,onDownload:s}=e;return(0,o.jsxs)("div",{className:"pdf-export-card",children:[(0,o.jsx)("h3",{children:r}),(0,o.jsxs)("p",{children:["Last generated: ",t]}),(0,o.jsx)("button",{onClick:s,children:"Download PDF"})]})};var a=t(4274),n=t(1056),l=t(5695),i=t(8543);async function c(){await (0,a.Mt)(n.N)||(0,l.redirect)("/api/auth/signin");let e=async e=>{try{let r=await fetch("/api/exports/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({exportType:e})});await r.json(),i.oR.success("Export prepared. Download startingâ€¦")}catch(e){console.error("Error downloading PDF:",e),i.oR.error("Failed to prepare export")}};return(0,o.jsxs)("div",{className:"exports-page",children:[(0,o.jsx)("h1",{children:"Export Center"}),(0,o.jsx)(s,{exportType:"All Dispute Letters",lastGenerated:"2023-10-01",onDownload:()=>e("All Dispute Letters")}),(0,o.jsx)(s,{exportType:"Timeline Summary PDF",lastGenerated:"2023-10-01",onDownload:()=>e("Timeline Summary PDF")}),(0,o.jsx)(s,{exportType:"Full Audit Log",lastGenerated:"2023-10-01",onDownload:()=>e("Full Audit Log")}),(0,o.jsx)(s,{exportType:"Credit Report Snapshots",lastGenerated:"2023-10-01",onDownload:()=>e("Credit Report Snapshots")})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[96,358],()=>r(5474)),_N_E=e.O()}]);